<div class="wrapper">

    <h3 class="header">My Conferences</h3>
    <p>

    </p>
    <div class="mat-elevation-z8 conference-elevation">

        <h3 class="elevation-header">Dashboard</h3>

        <div class="row">

            <div class="conference-hashtags basic-section col-md-5 mat-elevation-z8">
                <h5 class="elevation-header">Actions</h5>
                <app-conference-menu></app-conference-menu>
            </div>

            <div class="col-md-5 basic-section mat-elevation-z8">
                <div class="col-md-12 section-header">
                    <h5 class="elevation-header">Statistics</h5>
                </div>
                <div class="col-md-12 section-header">
                    Some user statistics
                </div>
            </div>
        </div>

        <ng-container *ngIf="userInterestedConferences$ | async as conferences">

            <h3 class="elevation-header">My Favourite Conferences</h3>

            <table mat-table [dataSource]="conferences">

                <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
                <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>

                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef>Name</th>
                    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                </ng-container>

                <ng-container matColumnDef="country">
                    <th mat-header-cell *matHeaderCellDef>Country</th>
                    <td mat-cell *matCellDef="let element"> {{element?.address?.country}} </td>
                </ng-container>

                <ng-container matColumnDef="city">
                    <th mat-header-cell *matHeaderCellDef>City</th>
                    <td mat-cell *matCellDef="let element"> {{ element?.address?.city }} </td>
                </ng-container>

                <ng-container matColumnDef="category">
                    <th mat-header-cell *matHeaderCellDef>Category</th>
                    <td mat-cell *matCellDef="let element"> {{ element.category }}</td>
                </ng-container>

                <ng-container matColumnDef="priceRange">
                    <th mat-header-cell *matHeaderCellDef>Price Range</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element?.priceRange?.currency }}{{ element?.priceRange?.lowest }}-{{ element?.priceRange?.highest
                        }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="startDate">
                    <th mat-header-cell *matHeaderCellDef>Start Date</th>
                    <td mat-cell *matCellDef="let element"> {{ element.startDate }} </td>
                </ng-container>

                <ng-container matColumnDef="endDate">
                    <th mat-header-cell *matHeaderCellDef>End Date</th>
                    <td mat-cell *matCellDef="let element"> {{ element.endDate }} </td>
                </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let element">
                        <a (click)="showConferenceDetails(element)" class="tab-icon"><i class="material-icons md-36">expand_more</i></a>
                        <a (click)="removeFromFavourite(element)" class="tab-icon"><i class="material-icons md-36">remove</i></a>
                    </td>
                </ng-container>
            </table>
        </ng-container>

        <ng-container *ngIf="userConferences$ | async as conferences">

            <h3 class="elevation-header">My Conferences</h3>

            <table mat-table [dataSource]="conferences">

                <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
                <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>

                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef>Name</th>
                    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                </ng-container>

                <ng-container matColumnDef="country">
                    <th mat-header-cell *matHeaderCellDef>Country</th>
                    <td mat-cell *matCellDef="let element"> {{element?.address?.country}} </td>
                </ng-container>

                <ng-container matColumnDef="city">
                    <th mat-header-cell *matHeaderCellDef>City</th>
                    <td mat-cell *matCellDef="let element"> {{ element?.address?.city }} </td>
                </ng-container>

                <ng-container matColumnDef="category">
                    <th mat-header-cell *matHeaderCellDef>Category</th>
                    <td mat-cell *matCellDef="let element"> {{ element.category }}</td>
                </ng-container>

                <ng-container matColumnDef="priceRange">
                    <th mat-header-cell *matHeaderCellDef>Price Range</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element?.priceRange?.currency }}{{ element?.priceRange?.lowest }}-{{
                        element?.priceRange?.highest
                        }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="startDate">
                    <th mat-header-cell *matHeaderCellDef>Start Date</th>
                    <td mat-cell *matCellDef="let element"> {{ element.startDate }} </td>
                </ng-container>

                <ng-container matColumnDef="endDate">
                    <th mat-header-cell *matHeaderCellDef>End Date</th>
                    <td mat-cell *matCellDef="let element"> {{ element.endDate }} </td>
                </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let element">
                        <a (click)="showConferenceDetails(element)" class="tab-icon"><i class="material-icons md-36">expand_more</i></a>
                        <a (click)="removeConference(element)" class="tab-icon"><i class="material-icons md-36">remove</i></a>
                    </td>
                </ng-container>
            </table>

        </ng-container>
    </div>

</div>